FROM eclipse-temurin:19-jdk

# 设置时区为上海（合并为一条RUN指令，减少镜像层）
RUN apt-get update && apt-get install -y tzdata && \
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \
    echo "Asia/Shanghai" > /etc/timezone && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# 复制JAR文件
COPY ./*.jar /app.jar

EXPOSE 9002
# 配置文件卷
VOLUME /config

# 使用更安全的启动方式
ENTRYPOINT ["java", "-jar", "/app.jar", "--spring.config.location=file:/config/application-dev.yml"]